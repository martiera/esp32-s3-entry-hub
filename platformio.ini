; ESP32-S3 Entry Hub - Advanced Voice-Controlled Access Panel
; PlatformIO Project Configuration File

[env:esp32-s3-devkitc-1]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

; Upload settings
upload_speed = 921600
monitor_speed = 115200

; Build flags
build_flags = 
    -DCORE_DEBUG_LEVEL=3
    -DBOARD_HAS_PSRAM
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DARDUINO_USB_MODE=1
    -D CONFIG_SPIRAM_CACHE_WORKAROUND
    -DHTTP_DOWNLOAD_UNIT_SIZE=16384
    -DWIFIMANAGER_OVERRIDE_STRINGS

; Partition scheme for OTA
board_build.partitions = partitions_8MB.csv
board_build.filesystem = littlefs

; Libraries
lib_deps = 
    ; WiFi and Network
    bblanchon/ArduinoJson@^7.2.1
    knolleary/PubSubClient@^2.8
    me-no-dev/ESPAsyncWebServer@^1.2.3
    me-no-dev/AsyncTCP@^1.1.1
    
    ; Configuration and Storage
    https://github.com/tzapu/WiFiManager.git
    
    ; Time and utilities
    arduino-libraries/NTPClient@^3.2.1
    adafruit/Adafruit BusIO@^1.14.1

; Extra scripts
extra_scripts = 
    pre:scripts/build_data.py
